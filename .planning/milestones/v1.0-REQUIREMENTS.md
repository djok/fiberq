# Requirements Archive: v1.0 MVP

**Archived:** 2026-02-22
**Status:** SHIPPED
**All 22 v1 requirements delivered.**

---

# Requirements: FiberQ WebUI

**Defined:** 2026-02-21
**Core Value:** Потребителите могат да се логнат в единна система (Kanidm), да управляват проекти и да работят с оптични мрежи — както от QGIS, така и от уеб браузър.

## v1 Requirements

### Authentication & Session

- [x] **AUTH-01**: User can log in to WebUI via Kanidm OIDC (ES256 JWT with Auth.js v5) — Phase 1
- [x] **AUTH-02**: User session persists across browser refresh with silent token renewal — Phase 1
- [x] **AUTH-03**: User can log out from any page (clear session + redirect to login) — Phase 1
- [x] **AUTH-04**: User can view own profile page showing name, email, and role (read-only from Kanidm) — Phase 1

### User Management

- [x] **USER-01**: Admin can view list of all users with name, email, role, and active/inactive status — Phase 2
- [x] **USER-02**: Admin can create new user with role assignment via Kanidm Management API — Phase 2
- [x] **USER-03**: Admin can deactivate and reactivate a user account — Phase 2
- [x] **USER-04**: Admin can change a user's role without recreating the account — Phase 2
- [x] **USER-05**: Admin can trigger password reset email for a user — Phase 2
- [x] **USER-06**: Admin can see last login timestamp for each user — Phase 2

### Project Management

- [x] **PROJ-01**: User can view list of projects they are assigned to (admin sees all projects) — Phase 3
- [x] **PROJ-02**: Admin or Project Manager can create a new project with name and description — Phase 3
- [x] **PROJ-03**: Admin or Project Manager can edit project name and description — Phase 3
- [x] **PROJ-04**: Projects have a status field with lifecycle states (Planning, Design, Construction, As-Built, Completed) — Phase 3
- [x] **PROJ-05**: User can filter and search projects by name, status, and assigned user — Phase 3

### Project-User Assignment

- [x] **ASGN-01**: Admin or Project Manager can assign users to a project (project_users table) — Phase 3
- [x] **ASGN-02**: User can view list of members assigned to a project with name and role — Phase 3
- [x] **ASGN-03**: Admin or Project Manager can remove a user from a project — Phase 3

### UI/UX

- [x] **UIUX-01**: Navigation and visible features adapt based on user role (Admin sees user management; Field Worker does not) — Phase 1
- [x] **UIUX-02**: WebUI layout is responsive and usable on tablets (min 768px viewport) — Phase 1

### Dashboard & Analytics

- [x] **DASH-01**: Project detail page shows dashboard with element counts, team size, last sync timestamp — Phase 4
- [x] **DASH-02**: Project detail page shows activity feed of recent actions (sync uploads, user assignments, status changes) — Phase 4

## Requirement Outcomes

| Requirement | Phase | Outcome |
|-------------|-------|---------|
| AUTH-01 | Phase 1 | Delivered — migrated from Zitadel to Kanidm OIDC during implementation |
| AUTH-02 | Phase 1 | Delivered — Auth.js v5 JWT strategy with session persistence |
| AUTH-03 | Phase 1 | Delivered — simple signOut (Kanidm lacks end_session_endpoint) |
| AUTH-04 | Phase 1 | Delivered — profile page with name, email, role, avatar |
| USER-01 | Phase 2 | Delivered — TanStack data table with search/filters |
| USER-02 | Phase 2 | Delivered — create dialog with credential reset token display |
| USER-03 | Phase 2 | Delivered — via confirmation dialogs on user detail page |
| USER-04 | Phase 2 | Delivered — role edit dialog on user detail page |
| USER-05 | Phase 2 | Delivered — password reset via Kanidm credential API |
| USER-06 | Phase 2 | Delivered — last login from PostgreSQL tracking table |
| PROJ-01 | Phase 3 | Delivered — role-scoped project listing |
| PROJ-02 | Phase 3 | Delivered — create project dialog |
| PROJ-03 | Phase 3 | Delivered — edit project dialog on detail page |
| PROJ-04 | Phase 3 | Delivered — 5 lifecycle states with status filter |
| PROJ-05 | Phase 3 | Delivered — triple client-side filtering (name/status/user) |
| ASGN-01 | Phase 3 | Delivered — inline combobox assignment from Kanidm persons list |
| ASGN-02 | Phase 3 | Delivered — role-badged member list on project detail |
| ASGN-03 | Phase 3 | Delivered — member removal with confirmation dialog |
| UIUX-01 | Phase 1 | Delivered — role-filtered sidebar navigation |
| UIUX-02 | Phase 1 | Delivered — collapsible sidebar, Sheet on mobile |
| DASH-01 | Phase 4 | Delivered — 6 stat tiles with UNION ALL element counts |
| DASH-02 | Phase 4 | Delivered — day-grouped activity timeline with pagination |

**Coverage:** 22/22 requirements delivered (100%)

**Notable changes during implementation:**
- Auth provider migrated from Zitadel to Kanidm (AUTH-01 through AUTH-04 adjusted)
- Assignable users initially from user_logins table, upgraded to Kanidm API in Phase 5
- MapLibre GL mini-maps added beyond original requirements (PROJ-01 enhancement)

---
*Requirements defined: 2026-02-21*
*Archived: 2026-02-22 after v1.0 milestone completion*
